<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<style>
    body {
        height: 300vh;
        margin: 0;
        padding: 0;
    }

    .fixed {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
    }

    .reference {
        height: 0px;
    }

    nav {
        background-color: aqua;
        height: 100px;
        text-align: center;
    }
</style>

<body>
    <div style="height: 120vh;background-color:beige;"></div>
    <!-- 参照元素 -->
    <div class="reference"></div>

    <nav>我可以吸顶</nav>
</body>
<script>
    let nav = document.querySelector('nav');
    let reference = document.querySelector(".reference");

    new IntersectionObserver(entries => {
        let item = entries[0];
        let top = item.boundingClientRect.top;
        // 当参照元素的的top值小于0，也就是在视窗的顶部的时候，开始吸顶，否则移除吸顶
        top < 0 ? nav.classList.add("fixed") : nav.classList.remove("fixed");
    }).observe(reference);
</script>

</html>